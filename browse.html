<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Browse Cars - AutoMarket</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #2c3e50;
            --secondary: #3498db;
            --accent: #e74c3c;
            --light: #ecf0f1;
            --dark: #2c3e50;
            --success: #2ecc71;
            --warning: #f39c12;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: #f5f7fa;
            color: #333;
            line-height: 1.6;
        }

        .container {
            width: 90%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 15px;
        }

        /* Header Styles */
        header {
            background-color: var(--primary);
            color: white;
            padding: 1rem 0;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 1.8rem;
            font-weight: 700;
            display: flex;
            align-items: center;
        }

        .logo i {
            color: var(--secondary);
            margin-right: 10px;
        }

        .logo span {
            color: var(--accent);
        }

        nav ul {
            display: flex;
            list-style: none;
        }

        nav ul li {
            margin-left: 1.5rem;
        }

        nav ul li a {
            color: white;
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s;
            padding: 0.5rem 0;
        }

        nav ul li a:hover {
            color: var(--secondary);
        }

        .auth-buttons button {
            background: var(--secondary);
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            cursor: pointer;
            font-weight: 500;
            transition: background 0.3s;
            margin-left: 10px;
        }

        .auth-buttons button:hover {
            background: #2980b9;
        }

        .user-menu {
            display: flex;
            align-items: center;
        }

        .user-info {
            display: flex;
            align-items: center;
            margin-right: 15px;
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--secondary);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 10px;
            color: white;
            font-weight: bold;
        }

        /* Page Header */
        .page-header {
            background: linear-gradient(rgba(44, 62, 80, 0.9), rgba(44, 62, 80, 0.9)), url('https://images.unsplash.com/photo-1486496572940-2bb2341fdbdf?ixlib=rb-4.0.3&auto=format&fit=crop&w=1950&q=80');
            background-size: cover;
            background-position: center;
            color: white;
            padding: 3rem 0;
            text-align: center;
        }

        .page-header h1 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }

        .page-header p {
            font-size: 1.2rem;
            max-width: 700px;
            margin: 0 auto;
        }

        /* Main Content */
        .main-content {
            padding: 3rem 0;
        }

        .section-title {
            text-align: center;
            margin-bottom: 2rem;
            color: var(--dark);
        }

        .section-title h2 {
            font-size: 2.2rem;
            margin-bottom: 0.5rem;
        }

        .section-title p {
            color: #7f8c8d;
        }

        /* Browse Layout */
        .browse-container {
            display: flex;
            gap: 2rem;
        }

        /* Filters Sidebar */
        .filters-sidebar {
            width: 300px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            padding: 1.5rem;
            height: fit-content;
            position: sticky;
            top: 100px;
        }

        .filter-group {
            margin-bottom: 1.5rem;
            border-bottom: 1px solid #eee;
            padding-bottom: 1.5rem;
        }

        .filter-group:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }

        .filter-title {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 1rem;
            color: var(--dark);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .filter-title button {
            background: none;
            border: none;
            color: var(--secondary);
            cursor: pointer;
            font-size: 0.9rem;
        }

        .filter-options {
            display: flex;
            flex-direction: column;
            gap: 0.7rem;
        }

        .filter-option {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .filter-option input {
            margin-right: 0.5rem;
        }

        .filter-option label {
            cursor: pointer;
        }

        .price-range {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .price-inputs {
            display: flex;
            gap: 0.5rem;
        }

        .price-inputs input {
            flex: 1;
            padding: 0.5rem;
            border: 1px solid #ddd;
            border-radius: 4px;
        }

        .apply-filters {
            background: var(--secondary);
            color: white;
            border: none;
            padding: 0.8rem 1.5rem;
            border-radius: 4px;
            cursor: pointer;
            font-weight: 500;
            transition: background 0.3s;
            width: 100%;
            margin-top: 1rem;
        }

        .apply-filters:hover {
            background: #2980b9;
        }

        /* Car Listings */
        .car-listings {
            flex: 1;
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 2rem;
        }

        .car-card {
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .car-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }

        .car-image {
            height: 200px;
            width: 100%;
            background-color: #ddd;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #999;
            font-size: 3rem;
            position: relative;
            overflow: hidden;
        }

        .car-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .car-details {
            padding: 1.5rem;
        }

        .car-title {
            font-size: 1.3rem;
            margin-bottom: 0.5rem;
            color: var(--dark);
        }

        .car-price {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--accent);
            margin-bottom: 1rem;
        }

        .car-specs {
            display: flex;
            justify-content: space-between;
            margin-bottom: 1rem;
            color: #7f8c8d;
        }

        .car-specs span {
            display: flex;
            align-items: center;
        }

        .car-specs i {
            margin-right: 5px;
        }

        .car-actions {
            display: flex;
            justify-content: space-between;
        }

        .btn {
            padding: 0.7rem 1.5rem;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s;
        }

        .btn-primary {
            background: var(--secondary);
            color: white;
        }

        .btn-primary:hover {
            background: #2980b9;
        }

        .btn-secondary {
            background: var(--light);
            color: var(--dark);
        }

        .btn-secondary:hover {
            background: #dde4e6;
        }

        /* Search and Sort Bar */
        .search-sort-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            background: white;
            padding: 1rem 1.5rem;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }

        .results-count {
            font-weight: 500;
            color: var(--dark);
        }

        .sort-options {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .sort-options select {
            padding: 0.5rem 1rem;
            border: 1px solid #ddd;
            border-radius: 4px;
            background: white;
        }

        /* Pagination */
        .pagination {
            display: flex;
            justify-content: center;
            margin-top: 3rem;
            gap: 0.5rem;
        }

        .pagination button {
            padding: 0.5rem 1rem;
            border: 1px solid #ddd;
            background: white;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .pagination button.active {
            background: var(--secondary);
            color: white;
            border-color: var(--secondary);
        }

        .pagination button:hover:not(.active) {
            background: #f5f5f5;
        }

        /* Footer */
        footer {
            background: var(--dark);
            color: white;
            padding: 3rem 0 1rem;
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .footer-section h3 {
            margin-bottom: 1.5rem;
            font-size: 1.3rem;
        }

        .footer-section ul {
            list-style: none;
        }

        .footer-section ul li {
            margin-bottom: 0.8rem;
        }

        .footer-section ul li a {
            color: #bdc3c7;
            text-decoration: none;
            transition: color 0.3s;
        }

        .footer-section ul li a:hover {
            color: white;
        }

        .footer-bottom {
            text-align: center;
            padding-top: 1.5rem;
            border-top: 1px solid #34495e;
            color: #bdc3c7;
            font-size: 0.9rem;
        }

        /* Responsive */
        @media (max-width: 1024px) {
            .browse-container {
                flex-direction: column;
            }
            
            .filters-sidebar {
                width: 100%;
                position: static;
            }
        }

        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
            }

            nav ul {
                margin: 1rem 0;
            }

            .search-sort-bar {
                flex-direction: column;
                gap: 1rem;
                align-items: flex-start;
            }

            .car-listings {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <i class="fas fa-car"></i>
                    Auto<span>Market</span>
                </div>
                <nav>
                    <ul>
                        <li><a href="index.html">Home</a></li>
                        <li><a href="browse.html" class="active">Browse Cars</a></li>
                        <li><a href="#">Sell Your Car</a></li>
                        <li><a href="about.html">About</a></li>
                        <li><a href="contact.html">Contact</a></li>
                    </ul>
                </nav>
                <div class="auth-buttons">
                    <div class="user-menu">
                        <button onclick="window.location.href='login.html'">Login</button>
                        <button onclick="window.location.href='register.html'">Register</button>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Page Header -->
    <section class="page-header">
        <div class="container">
            <h1>Browse Our Car Collection</h1>
            <p>Find your perfect vehicle from our extensive selection of quality cars</p>
        </div>
    </section>

    <!-- Main Content -->
    <div class="container main-content">
        <!-- Search and Sort Bar -->
        <div class="search-sort-bar">
            <div class="results-count" id="resultsCount">Showing 12 of 45 cars</div>
            <div class="sort-options">
                <span>Sort by:</span>
                <select id="sortOptions">
                    <option value="newest">Newest First</option>
                    <option value="price-low">Price: Low to High</option>
                    <option value="price-high">Price: High to Low</option>
                    <option value="year">Year: Newest First</option>
                    <option value="mileage">Mileage: Low to High</option>
                </select>
            </div>
        </div>

        <div class="browse-container">
            <!-- Filters Sidebar -->
            <div class="filters-sidebar">
                <div class="filter-group">
                    <div class="filter-title">
                        <span>Price Range</span>
                    </div>
                    <div class="price-range">
                        <div class="price-inputs">
                            <input type="number" id="minPrice" placeholder="Min" value="0">
                            <input type="number" id="maxPrice" placeholder="Max" value="100000">
                        </div>
                    </div>
                </div>

                <div class="filter-group">
                    <div class="filter-title">
                        <span>Make</span>
                        <button id="resetMakes">Reset</button>
                    </div>
                    <div class="filter-options">
                        <div class="filter-option">
                            <input type="checkbox" id="make-toyota" value="Toyota" checked>
                            <label for="make-toyota">Toyota</label>
                        </div>
                        <div class="filter-option">
                            <input type="checkbox" id="make-honda" value="Honda" checked>
                            <label for="make-honda">Honda</label>
                        </div>
                        <div class="filter-option">
                            <input type="checkbox" id="make-ford" value="Ford" checked>
                            <label for="make-ford">Ford</label>
                        </div>
                        <div class="filter-option">
                            <input type="checkbox" id="make-bmw" value="BMW" checked>
                            <label for="make-bmw">BMW</label>
                        </div>
                        <div class="filter-option">
                            <input type="checkbox" id="make-audi" value="Audi" checked>
                            <label for="make-audi">Audi</label>
                        </div>
                        <div class="filter-option">
                            <input type="checkbox" id="make-mercedes" value="Mercedes" checked>
                            <label for="make-mercedes">Mercedes</label>
                        </div>
                    </div>
                </div>

                <div class="filter-group">
                    <div class="filter-title">
                        <span>Year</span>
                        <button id="resetYears">Reset</button>
                    </div>
                    <div class="filter-options">
                        <div class="filter-option">
                            <input type="checkbox" id="year-2020" value="2020" checked>
                            <label for="year-2020">2020 & Newer</label>
                        </div>
                        <div class="filter-option">
                            <input type="checkbox" id="year-2018" value="2018" checked>
                            <label for="year-2018">2018-2019</label>
                        </div>
                        <div class="filter-option">
                            <input type="checkbox" id="year-2016" value="2016" checked>
                            <label for="year-2016">2016-2017</label>
                        </div>
                        <div class="filter-option">
                            <input type="checkbox" id="year-2014" value="2014" checked>
                            <label for="year-2014">2014-2015</label>
                        </div>
                        <div class="filter-option">
                            <input type="checkbox" id="year-2012" value="2012" checked>
                            <label for="year-2012">2012-2013</label>
                        </div>
                    </div>
                </div>

                <div class="filter-group">
                    <div class="filter-title">
                        <span>Body Type</span>
                        <button id="resetBodyTypes">Reset</button>
                    </div>
                    <div class="filter-options">
                        <div class="filter-option">
                            <input type="checkbox" id="type-sedan" value="Sedan" checked>
                            <label for="type-sedan">Sedan</label>
                        </div>
                        <div class="filter-option">
                            <input type="checkbox" id="type-suv" value="SUV" checked>
                            <label for="type-suv">SUV</label>
                        </div>
                        <div class="filter-option">
                            <input type="checkbox" id="type-truck" value="Truck" checked>
                            <label for="type-truck">Truck</label>
                        </div>
                        <div class="filter-option">
                            <input type="checkbox" id="type-coupe" value="Coupe" checked>
                            <label for="type-coupe">Coupe</label>
                        </div>
                        <div class="filter-option">
                            <input type="checkbox" id="type-hatchback" value="Hatchback" checked>
                            <label for="type-hatchback">Hatchback</label>
                        </div>
                    </div>
                </div>

                <div class="filter-group">
                    <div class="filter-title">
                        <span>Fuel Type</span>
                        <button id="resetFuelTypes">Reset</button>
                    </div>
                    <div class="filter-options">
                        <div class="filter-option">
                            <input type="checkbox" id="fuel-gasoline" value="Gasoline" checked>
                            <label for="fuel-gasoline">Gasoline</label>
                        </div>
                        <div class="filter-option">
                            <input type="checkbox" id="fuel-diesel" value="Diesel" checked>
                            <label for="fuel-diesel">Diesel</label>
                        </div>
                        <div class="filter-option">
                            <input type="checkbox" id="fuel-electric" value="Electric" checked>
                            <label for="fuel-electric">Electric</label>
                        </div>
                        <div class="filter-option">
                            <input type="checkbox" id="fuel-hybrid" value="Hybrid" checked>
                            <label for="fuel-hybrid">Hybrid</label>
                        </div>
                    </div>
                </div>

                <button class="apply-filters" id="applyFilters">Apply Filters</button>
            </div>

            <!-- Car Listings -->
            <div class="car-listings" id="carListings">
                <!-- Car listings will be populated by JavaScript -->
            </div>
        </div>

        <!-- Pagination -->
        <div class="pagination" id="pagination">
            <!-- Pagination will be populated by JavaScript -->
        </div>
    </div>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>AutoMarket</h3>
                    <p>Your trusted platform for buying and selling vehicles. Find the perfect car or connect with buyers for your vehicle.</p>
                </div>
                <div class="footer-section">
                    <h3>Quick Links</h3>
                    <ul>
                        <li><a href="index.html">Home</a></li>
                        <li><a href="browse.html">Browse Cars</a></li>
                        <li><a href="sell.html">Sell Your Car</a></li>
                        <li><a href="about.html">About Us</a></li>
                        <li><a href="contact.html">Contact</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>Contact Us</h3>
                    <ul>
                        <li><i class="fas fa-map-marker-alt"></i> 123 Auto Street, Car City</li>
                        <li><i class="fas fa-phone"></i> (123) 456-7890</li>
                        <li><i class="fas fa-envelope"></i> info@automarket.com</li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2023 AutoMarket. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        // Sample data for demonstration
        const sampleCars = [
            {
                id: 1,
                title: "2021 Honda Civic LX",
                make: "Honda",
                model: "Civic",
                year: 2021,
                price: 22500,
                mileage: 15000,
                fuel: "Gasoline",
                bodyType: "Sedan",
                description: "Well-maintained Honda Civic with low mileage. Single owner, no accidents.",
                image: "https://images.unsplash.com/photo-1552519507-da3b142c6e3d?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=60"
            },
            {
                id: 2,
                title: "2020 Ford Mustang GT",
                make: "Ford",
                model: "Mustang",
                year: 2020,
                price: 38500,
                mileage: 22000,
                fuel: "Gasoline",
                bodyType: "Coupe",
                description: "Powerful V8 engine, premium sound system, excellent condition.",
                image: "https://images.unsplash.com/photo-1544636331-e26879cd4d9b?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=60"
            },
            {
                id: 3,
                title: "2019 Toyota RAV4 Hybrid",
                make: "Toyota",
                model: "RAV4",
                year: 2019,
                price: 28900,
                mileage: 32000,
                fuel: "Hybrid",
                bodyType: "SUV",
                description: "Fuel-efficient hybrid SUV with plenty of cargo space. All maintenance records available.",
                image: "https://images.unsplash.com/photo-1568605117036-5fe5e7bab0b7?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=60"
            },
            {
                id: 4,
                title: "2022 BMW 3 Series",
                make: "BMW",
                model: "3 Series",
                year: 2022,
                price: 42900,
                mileage: 8000,
                fuel: "Gasoline",
                bodyType: "Sedan",
                description: "Luxury sedan with premium features, low mileage, and excellent condition.",
                image: "https://images.unsplash.com/photo-1555215695-3004980ad54e?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=60"
            },
            {
                id: 5,
                title: "2021 Audi Q5",
                make: "Audi",
                model: "Q5",
                year: 2021,
                price: 38900,
                mileage: 18500,
                fuel: "Gasoline",
                bodyType: "SUV",
                description: "Premium compact SUV with advanced technology and safety features.",
                image: "https://images.unsplash.com/photo-1503376780353-7e6692767b70?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=60"
            },
            {
                id: 6,
                title: "2020 Mercedes C-Class",
                make: "Mercedes",
                model: "C-Class",
                year: 2020,
                price: 35900,
                mileage: 24500,
                fuel: "Gasoline",
                bodyType: "Sedan",
                description: "Luxury sedan with premium interior and advanced driver assistance systems.",
                image: "https://images.unsplash.com/photo-1616789916189-3a0d215b6122?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MzV8fDIwMjAlMjBNZXJjZWRlcyUyMEMlMjBDbGFzc3xlbnwwfHwwfHx8MA%3D%3D"
            },
            {
                id: 7,
                title: "2022 Toyota Camry Hybrid",
                make: "Toyota",
                model: "Camry",
                year: 2022,
                price: 31900,
                mileage: 12000,
                fuel: "Hybrid",
                bodyType: "Sedan",
                description: "Fuel-efficient hybrid with modern styling and advanced safety features.",
                image: "https://images.unsplash.com/photo-1621007947382-bb3c3994e3fb?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=60"
            },
            {
                id: 8,
                title: "2021 Ford F-150",
                make: "Ford",
                model: "F-150",
                year: 2021,
                price: 42900,
                mileage: 18500,
                fuel: "Gasoline",
                bodyType: "Truck",
                description: "Powerful pickup truck with towing package and premium interior.",
                image: "https://images.unsplash.com/photo-1621007947382-bb3c3994e3fb?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=60"
            },
            {
                id: 9,
                title: "2020 Honda CR-V",
                make: "Honda",
                model: "CR-V",
                year: 2020,
                price: 27900,
                mileage: 28500,
                fuel: "Gasoline",
                bodyType: "SUV",
                description: "Reliable compact SUV with spacious interior and excellent fuel economy.",
                image: "https://images.unsplash.com/photo-1603584173870-7f23fdae1b7a?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=60"
            },
            {
                id: 10,
                title: "2022 Tesla Model 3",
                make: "Tesla",
                model: "Model 3",
                year: 2022,
                price: 48900,
                mileage: 6500,
                fuel: "Electric",
                bodyType: "Sedan",
                description: "All-electric sedan with autopilot and premium connectivity.",
                image: "https://images.unsplash.com/photo-1560958089-b8a1929cea89?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=60"
            },
            {
                id: 11,
                title: "2019 BMW X5",
                make: "BMW",
                model: "X5",
                year: 2019,
                price: 44900,
                mileage: 32500,
                fuel: "Diesel",
                bodyType: "SUV",
                description: "Luxury SUV with powerful diesel engine and premium features.",
                image: "https://images.unsplash.com/photo-1555215695-3004980ad54e?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=60"
            },
            {
                id: 12,
                title: "2021 Audi A4",
                make: "Audi",
                model: "A4",
                year: 2021,
                price: 36900,
                mileage: 15500,
                fuel: "Gasoline",
                bodyType: "Sedan",
                description: "Premium compact sedan with Quattro all-wheel drive and luxury features.",
                image: "https://images.unsplash.com/photo-1503376780353-7e6692767b70?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=60"
            }
        ];

        // DOM Elements
        const carListings = document.getElementById('carListings');
        const resultsCount = document.getElementById('resultsCount');
        const sortOptions = document.getElementById('sortOptions');
        const applyFilters = document.getElementById('applyFilters');
        const pagination = document.getElementById('pagination');

        // Filter elements
        const minPrice = document.getElementById('minPrice');
        const maxPrice = document.getElementById('maxPrice');
        const resetMakes = document.getElementById('resetMakes');
        const resetYears = document.getElementById('resetYears');
        const resetBodyTypes = document.getElementById('resetBodyTypes');
        const resetFuelTypes = document.getElementById('resetFuelTypes');

        // State
        let currentPage = 1;
        const carsPerPage = 6;
        let filteredCars = [...sampleCars];

        // Initialize the page
        function init() {
            renderCarListings();
            setupEventListeners();
            updateResultsCount();
            renderPagination();
        }

        // Render car listings
        function renderCarListings() {
            carListings.innerHTML = '';
            
            const startIndex = (currentPage - 1) * carsPerPage;
            const endIndex = startIndex + carsPerPage;
            const carsToShow = filteredCars.slice(startIndex, endIndex);
            
            if (carsToShow.length === 0) {
                carListings.innerHTML = '<p style="text-align: center; width: 100%; grid-column: 1 / -1;">No cars found matching your criteria.</p>';
                return;
            }
            
            carsToShow.forEach(car => {
                const carCard = createCarCard(car);
                carListings.appendChild(carCard);
            });
        }

        // Create a car card element
        function createCarCard(car) {
            const carCard = document.createElement('div');
            carCard.className = 'car-card';
            carCard.innerHTML = `
                <div class="car-image">
                    ${car.image ? `<img src="${car.image}" alt="${car.title}">` : '<i class="fas fa-car"></i>'}
                </div>
                <div class="car-details">
                    <h3 class="car-title">${car.title}</h3>
                    <div class="car-price">$${car.price.toLocaleString()}</div>
                    <div class="car-specs">
                        <span><i class="fas fa-calendar-alt"></i> ${car.year}</span>
                        <span><i class="fas fa-tachometer-alt"></i> ${car.mileage.toLocaleString()} mi</span>
                        <span><i class="fas fa-gas-pump"></i> ${car.fuel}</span>
                    </div>
                    <p>${car.description}</p>
                    <div class="car-actions">
                        <button class="btn btn-secondary"><i class="fas fa-info-circle"></i> Details</button>
                        <button class="btn btn-primary"><i class="fas fa-envelope"></i> Contact</button>
                    </div>
                </div>
            `;
            return carCard;
        }

        // Setup event listeners
        function setupEventListeners() {
            // Sort options
            sortOptions.addEventListener('change', handleSortChange);
            
            // Apply filters
            applyFilters.addEventListener('click', applyAllFilters);
            
            // Reset filter buttons
            resetMakes.addEventListener('click', () => resetCheckboxGroup('make'));
            resetYears.addEventListener('click', () => resetCheckboxGroup('year'));
            resetBodyTypes.addEventListener('click', () => resetCheckboxGroup('type'));
            resetFuelTypes.addEventListener('click', () => resetCheckboxGroup('fuel'));
        }

        // Handle sort change
        function handleSortChange() {
            const sortValue = sortOptions.value;
            
            switch(sortValue) {
                case 'price-low':
                    filteredCars.sort((a, b) => a.price - b.price);
                    break;
                case 'price-high':
                    filteredCars.sort((a, b) => b.price - a.price);
                    break;
                case 'year':
                    filteredCars.sort((a, b) => b.year - a.year);
                    break;
                case 'mileage':
                    filteredCars.sort((a, b) => a.mileage - b.mileage);
                    break;
                case 'newest':
                default:
                    filteredCars.sort((a, b) => b.id - a.id);
                    break;
            }
            
            currentPage = 1;
            renderCarListings();
            updateResultsCount();
            renderPagination();
        }

        // Apply all filters
        function applyAllFilters() {
            // Get price range
            const minPriceValue = parseInt(minPrice.value) || 0;
            const maxPriceValue = parseInt(maxPrice.value) || 1000000;
            
            // Get selected makes
            const selectedMakes = getSelectedCheckboxValues('make');
            
            // Get selected years
            const selectedYears = getSelectedCheckboxValues('year');
            
            // Get selected body types
            const selectedBodyTypes = getSelectedCheckboxValues('type');
            
            // Get selected fuel types
            const selectedFuelTypes = getSelectedCheckboxValues('fuel');
            
            // Apply filters
            filteredCars = sampleCars.filter(car => {
                // Price filter
                if (car.price < minPriceValue || car.price > maxPriceValue) return false;
                
                // Make filter
                if (selectedMakes.length > 0 && !selectedMakes.includes(car.make)) return false;
                
                // Year filter
                if (selectedYears.length > 0) {
                    let yearMatch = false;
                    selectedYears.forEach(yearRange => {
                        if (yearRange === '2020' && car.year >= 2020) yearMatch = true;
                        if (yearRange === '2018' && car.year >= 2018 && car.year <= 2019) yearMatch = true;
                        if (yearRange === '2016' && car.year >= 2016 && car.year <= 2017) yearMatch = true;
                        if (yearRange === '2014' && car.year >= 2014 && car.year <= 2015) yearMatch = true;
                        if (yearRange === '2012' && car.year >= 2012 && car.year <= 2013) yearMatch = true;
                    });
                    if (!yearMatch) return false;
                }
                
                // Body type filter
                if (selectedBodyTypes.length > 0 && !selectedBodyTypes.includes(car.bodyType)) return false;
                
                // Fuel type filter
                if (selectedFuelTypes.length > 0 && !selectedFuelTypes.includes(car.fuel)) return false;
                
                return true;
            });
            
            // Reset to first page and re-render
            currentPage = 1;
            handleSortChange(); // This will sort and render
        }

        // Get selected checkbox values by prefix
        function getSelectedCheckboxValues(prefix) {
            const checkboxes = document.querySelectorAll(`input[type="checkbox"][id^="${prefix}-"]:checked`);
            return Array.from(checkboxes).map(cb => cb.value);
        }

        // Reset a checkbox group
        function resetCheckboxGroup(prefix) {
            const checkboxes = document.querySelectorAll(`input[type="checkbox"][id^="${prefix}-"]`);
            checkboxes.forEach(cb => cb.checked = true);
        }

        // Update results count
        function updateResultsCount() {
            const startIndex = (currentPage - 1) * carsPerPage + 1;
            const endIndex = Math.min(startIndex + carsPerPage - 1, filteredCars.length);
            resultsCount.textContent = `Showing ${startIndex}-${endIndex} of ${filteredCars.length} cars`;
        }

        // Render pagination
        function renderPagination() {
            const totalPages = Math.ceil(filteredCars.length / carsPerPage);
            
            if (totalPages <= 1) {
                pagination.innerHTML = '';
                return;
            }
            
            let paginationHTML = '';
            
            // Previous button
            if (currentPage > 1) {
                paginationHTML += `<button onclick="changePage(${currentPage - 1})"><i class="fas fa-chevron-left"></i></button>`;
            }
            
            // Page numbers
            for (let i = 1; i <= totalPages; i++) {
                if (i === currentPage) {
                    paginationHTML += `<button class="active">${i}</button>`;
                } else {
                    paginationHTML += `<button onclick="changePage(${i})">${i}</button>`;
                }
            }
            
            // Next button
            if (currentPage < totalPages) {
                paginationHTML += `<button onclick="changePage(${currentPage + 1})"><i class="fas fa-chevron-right"></i></button>`;
            }
            
            pagination.innerHTML = paginationHTML;
        }

        // Change page
        function changePage(page) {
            currentPage = page;
            renderCarListings();
            updateResultsCount();
            renderPagination();
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Initialize the page when DOM is loaded
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>
